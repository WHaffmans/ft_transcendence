<script lang="ts">
	interface Props {
		username: string;
		avatar: string;
		onLogout?: () => void;
	}

	let { username, avatar, onLogout }: Props = $props();

	const handleLogoutClick = () => {
		if (onLogout) {
			onLogout();
		}
	};
</script>

<nav class="fixed top-0 left-0 right-0 z-50 h-16 backdrop-blur-[10px] bg-black/50">
	<!-- Border bottom -->
	<div class="absolute bottom-0 left-0 right-0 h-px bg-white/10"></div>

	<div class="flex items-center justify-between h-full px-6">
		<!-- Logo -->
		<h1 class="text-xl font-bold text-white tracking-[-1px]">ACHTUNG</h1>

		<!-- User Panel -->
		<div class="flex items-center gap-3">
			<!-- Settings Icon -->
			<button
				class="w-5 h-5 text-white hover:text-white/80 transition-colors"
				aria-label="Settings"
			>
				<svg
					width="20"
					height="20"
					viewBox="0 0 20 20"
					fill="none"
					xmlns="http://www.w3.org/2000/svg"
				>
					<path
						d="M10 12.5C11.3807 12.5 12.5 11.3807 12.5 10C12.5 8.61929 11.3807 7.5 10 7.5C8.61929 7.5 7.5 8.61929 7.5 10C7.5 11.3807 8.61929 12.5 10 12.5Z"
						stroke="currentColor"
						stroke-width="1.5"
						stroke-linecap="round"
						stroke-linejoin="round"
					/>
					<path
						d="M16.1667 12.5C16.0557 12.7513 16.0221 13.0302 16.0702 13.3005C16.1183 13.5708 16.2458 13.8203 16.4367 14.0167L16.4833 14.0633C16.6362 14.2161 16.7575 14.3974 16.8403 14.5966C16.9231 14.7959 16.9658 15.0093 16.9658 15.225C16.9658 15.4407 16.9231 15.6541 16.8403 15.8534C16.7575 16.0526 16.6362 16.2339 16.4833 16.3867C16.3305 16.5395 16.1492 16.6609 15.95 16.7437C15.7507 16.8265 15.5373 16.8691 15.3217 16.8691C15.106 16.8691 14.8926 16.8265 14.6933 16.7437C14.4941 16.6609 14.3128 16.5395 14.16 16.3867L14.1133 16.34C13.917 16.1492 13.6675 16.0216 13.3972 15.9735C13.1269 15.9254 12.848 15.959 12.5967 16.07C12.3503 16.1758 12.1417 16.3527 11.9971 16.5782C11.8525 16.8038 11.7781 17.0685 11.7833 17.3375V17.5C11.7833 17.9421 11.6077 18.3659 11.2951 18.6785C10.9826 18.9911 10.5587 19.1667 10.1167 19.1667C9.67464 19.1667 9.25078 18.9911 8.93822 18.6785C8.62565 18.3659 8.45 17.9421 8.45 17.5V17.425C8.43945 17.1476 8.35414 16.8786 8.20308 16.6485C8.05202 16.4183 7.84116 16.2358 7.59333 16.1217C7.34202 16.0106 7.06314 15.977 6.79281 16.0251C6.52248 16.0732 6.27299 16.2008 6.07667 16.3917L6.03 16.4383C5.87718 16.5912 5.69585 16.7125 5.49661 16.7953C5.29737 16.8781 5.08396 16.9208 4.86833 16.9208C4.65271 16.9208 4.4393 16.8781 4.24006 16.7953C4.04082 16.7125 3.85949 16.5912 3.70667 16.4383C3.55383 16.2855 3.43246 16.1042 3.34966 15.905C3.26686 15.7057 3.22418 15.4923 3.22418 15.2767C3.22418 15.061 3.26686 14.8476 3.34966 14.6484C3.43246 14.4492 3.55383 14.2678 3.70667 14.115L3.75333 14.0683C3.94416 13.872 4.07173 13.6225 4.11984 13.3522C4.16795 13.0819 4.13434 12.803 4.02333 12.5517C3.91752 12.3053 3.74061 12.0967 3.51509 11.9521C3.28957 11.8075 3.02483 11.7331 2.75583 11.7383H2.58333C2.1413 11.7383 1.71743 11.5627 1.40487 11.2501C1.09231 10.9376 0.916664 10.5137 0.916664 10.0717C0.916664 9.62964 1.09231 9.20577 1.40487 8.89321C1.71743 8.58065 2.1413 8.405 2.58333 8.405H2.65833C2.93571 8.39445 3.20469 8.30914 3.43484 8.15808C3.66498 8.00702 3.84753 7.79616 3.96167 7.54833C4.07268 7.29702 4.10629 7.01814 4.05818 6.74781C4.01007 6.47748 3.8825 6.22799 3.69167 6.03167L3.645 5.985C3.49217 5.83218 3.3708 5.65085 3.288 5.45161C3.2052 5.25237 3.16252 5.03896 3.16252 4.82333C3.16252 4.60771 3.2052 4.3943 3.288 4.19506C3.3708 3.99582 3.49217 3.81449 3.645 3.66167C3.79782 3.50883 3.97915 3.38746 4.17839 3.30466C4.37763 3.22186 4.59104 3.17918 4.80667 3.17918C5.02229 3.17918 5.2357 3.22186 5.43494 3.30466C5.63418 3.38746 5.81551 3.50883 5.96833 3.66167L6.015 3.70833C6.21132 3.89916 6.46081 4.02673 6.73114 4.07484C7.00147 4.12295 7.28035 4.08934 7.53167 3.97833H7.59333C7.83971 3.87252 8.04833 3.69561 8.19293 3.47009C8.33752 3.24457 8.41194 2.97983 8.40667 2.71083V2.53833C8.40667 2.0963 8.58231 1.67243 8.89487 1.35987C9.20744 1.04731 9.6313 0.871664 10.0733 0.871664C10.5154 0.871664 10.9393 1.04731 11.2518 1.35987C11.5644 1.67243 11.74 2.0963 11.74 2.53833V2.61333C11.7452 2.88234 11.8197 3.14707 11.9642 3.37259C12.1088 3.59811 12.3175 3.77502 12.5638 3.88083C12.8151 3.99184 13.094 4.02545 13.3644 3.97734C13.6347 3.92923 13.8842 3.80166 14.0805 3.61083L14.1272 3.56417C14.28 3.41133 14.4613 3.28996 14.6605 3.20716C14.8598 3.12436 15.0732 3.08168 15.2888 3.08168C15.5045 3.08168 15.7179 3.12436 15.9171 3.20716C16.1163 3.28996 16.2977 3.41133 16.4505 3.56417C16.6033 3.71699 16.7247 3.89832 16.8075 4.09756C16.8903 4.2968 16.933 4.51021 16.933 4.72583C16.933 4.94146 16.8903 5.15487 16.8075 5.35411C16.7247 5.55335 16.6033 5.73468 16.4505 5.8875L16.4038 5.93417C16.213 6.13049 16.0855 6.37998 16.0373 6.65031C15.9892 6.92064 16.0228 7.19952 16.1338 7.45083V7.5125C16.2397 7.75888 16.4166 7.9675 16.6421 8.1121C16.8676 8.25669 17.1323 8.33111 17.4013 8.32583H17.5738C18.0159 8.32583 18.4397 8.50149 18.7523 8.81405C19.0649 9.12661 19.2405 9.55048 19.2405 9.9925C19.2405 10.4345 19.0649 10.8584 18.7523 11.171C18.4397 11.4835 18.0159 11.6592 17.5738 11.6592H17.4988C17.2298 11.6644 16.9651 11.7388 16.7396 11.8834C16.514 12.028 16.3371 12.2367 16.2313 12.4831V12.5Z"
						stroke="currentColor"
						stroke-width="1.5"
						stroke-linecap="round"
						stroke-linejoin="round"
					/>
				</svg>
			</button>

			<!-- Username -->
			<p class="text-sm font-bold text-white">
				{username}
			</p>

			<!-- Avatar -->
			<img
				src={avatar}
				alt={username}
				class="w-9 h-9 rounded-full object-cover"
			/>

			<!-- Logout Button -->
			<button
				onclick={handleLogoutClick}
				class="text-[11px] font-bold text-[#f36] hover:text-[#ff4466] transition-colors ml-2"
			>
				LOGOUT
			</button>
		</div>
	</div>
</nav>
